<nav id="menu" mmenu>

    <ul ng-show="contentLoaded" id="mmenu-list">
        <li><a ui-sref="home">Home</a></li>
        <li ng-repeat="category in entries | orderBy:'fields.weight' | lowercase" ng-if="category.sys.contentType.sys.id == 'category'">
            <a ui-sref="categories.catDetail({catName: category.fields.name, subCatName: category.fields.subcategories[0] })">{{ category.fields.name }}</a>



            <!-- CHANGE TO DEPTH > 1 -->
            <ul ng-if="category.fields.subcategories.length > 0">
                <li ng-repeat="subcat in category.fields.subcategories | orderBy:'fields.weight'">
                    <a ui-sref="categories.catDetail({catName:category.fields.name, subCatName: subcat })">
                        {{subcat}}</a>


                    <ul ng-if="category.fields.depth > 2">
                        <li ng-repeat="entry in entries | orderBy:'fields.weight'" ng-if="entry.fields.subcategory === subcat ">
                            <a>{{ entry.fields.name }}</a>
                        </li>
                    </ul>


                </li>
            </ul>




        </li>
    </ul>

</nav>